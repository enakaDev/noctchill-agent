task_id: "task_improve_001"
name: "浅倉 透"
status: "完了"
content: |
  うん、見た。改善したほうがいいところまとめたよ。

  ## セキュリティの問題
  - SQLインジェクションの脆弱性がある（backend/src/main/index.ts line 537）
  - `.bind()` 使わないと危ない

  ## API設計
  - すべて POST になってるけど、GET/DELETE 使うべき
  - RESTful じゃないから分かりにくい

  ## コードの重複
  - `/transcribe` と `/get-new-transcription` がほぼ同じ
  - 共通ロジックを関数化したほうがいい

  ## フロントエンドの整理
  - 環境変数の使い方が冗長（無駄な代入が多い）
  - 型定義が散らばってる（Episode, Channel が複数ファイルにある）
  - API呼び出しが分散してる（fetch を各コンポーネントで直接呼んでる）
  - Wake Lock のログが多すぎる（本番環境でも出てる）

  ## アーキテクチャ
  - 状態管理がない（Context API とか使うといい）
  - エラーハンドリングが不十分（英語と日本語が混在）

  ---

  **優先順位:**
  1. セキュリティ直す（SQLインジェクション）— これは絶対
  2. API設計をRESTfulにする
  3. 重複コードを減らす
  4. フロントエンドを整理する
  5. 状態管理を入れる

  たぶん、この順番でやると良くなると思う。
timestamp: "2026-02-09 02:52:39"
